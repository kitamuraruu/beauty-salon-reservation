# 美容院予約システム開発計画

## プロジェクト概要
CodeIgniter 4フレームワークを使用した美容院予約システムの開発

## 技術スタック

### フレームワーク・言語
- **CodeIgniter 4** (最新版)
- **PHP 8.1以上** (VS17 x64 Thread Safe)
- **MySQL 8.x**
- **Apache 2.4** (Webサーバー)

### フロントエンド
- HTML5, CSS3, JavaScript
- シンプルなデザイン（PC画面のみ対応）
- CodeIgniter 4のViewシステム

### セキュリティ（練習用）
- SQLインジェクション対策 (Query Builder使用) - データベース操作の学習

## 主要機能

### 顧客向け機能
- 予約登録（名前、日付、時間、連絡先）
- 予約確認

### 管理者向け機能
- 管理者ログイン（IDで判定）
- 予約管理（確認）

## システムアーキテクチャ

### ディレクトリ構造（CodeIgniter 4標準）
```
美容院予約システム/
├── app/
│   ├── Controllers/
│   │   ├── Home.php (顧客用)
│   │   ├── Admin.php (管理者用)
│   │   └── Auth.php (認証)
│   ├── Models/
│   │   └── AppointmentModel.php
│   ├── Views/
│   │   ├── customer/ (顧客画面)
│   │   ├── admin/ (管理画面)
│   │   └── layouts/ (共通レイアウト)
│   ├── Config/
│   │   ├── Database.php
│   │   └── Routes.php
│   └── Database/
│       └── Migrations/ (テーブル作成用)
├── public/
│   ├── index.php (エントリーポイント)
│   ├── css/
│   └── js/
├── writable/
│   ├── logs/
│   └── cache/
├── vendor/ (Composer依存関係)
├── .env (環境設定)
└── composer.json
```

### データベース設計

#### 主要テーブル
- `appointments` (予約情報: 名前、日付、時間、連絡先)
- `admin_users` (管理者ユーザー)

## 開発フェーズ

### Phase 1: 環境構築 ✅
- Apache + PHP + MySQL環境構築
- CodeIgniter 4インストール
- データベース設定
- Apache設定（mod_rewrite有効化）
- プロジェクト構造作成

### Phase 2: 予約機能（ユーザー側画面）← **現在ここ**
- ユーザー側画面の基本構造作成
- トップページ（美容院紹介、予約ボタン）
- 予約フォーム（名前、日付、時間、連絡先）
- 予約確認画面
- 予約完了画面
- 顧客情報保存機能

### Phase 3: 管理機能
- 予約一覧表示・確認
- 管理者ログイン（IDで判定）
- 予約管理画面

### Phase 4: 認証システム
- ログイン機能（IDでユーザー/管理者を判定）
- セッション管理
- SQLインジェクション対策実装

## セキュリティ考慮事項（練習用）

- SQLインジェクション対策（Query Builder使用）のみ実装
- その他のセキュリティ対策は学習段階では省略

## 開発方針

1. **MVCパターン**: CodeIgniter 4のMVCアーキテクチャに従う
2. **段階的開発**: 機能ごとに段階的に実装
3. **学習重視**: PHP学習に集中し、必要最小限のセキュリティを実装
4. **保守性**: コードの可読性とメンテナンス性を重視
5. **テスト**: 各機能の動作確認を徹底

## 今後のステップ

1. CodeIgniter 4プロジェクト初期化
2. データベース設計の詳細化
3. プロジェクト構造の作成
4. 認証システムの実装開始（IDでユーザー/管理者を判定）

---
作成日: 2024年
プロジェクト: 美容院予約システム
技術: CodeIgniter 4 + PHP + MySQL
